<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- Mobile Web App Tags für "Zum Home-Bildschirm hinzufügen" -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">

    <title>Ein magischer Augenblick erwartet dich</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- YouTube IFrame API für den Sound -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --star-blue: #81a0f4; 
            --iris-color: #A7A1C7;
            --gradient-1: #81a0f4;
            --gradient-2: #ff5661;
            --gradient-3: #d9e3dc;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100dvh;
            background-color: #000;
            color: #ffffff;
            font-family: 'Google Sans', 'Roboto', 'Inter', sans-serif;
            overflow: hidden;
            overscroll-behavior-y: none;
            position: fixed;
        }

        #intro-wrapper {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100dvh;
            z-index: 1000;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        #start-overlay {
            position: absolute;
            top: 0; left: 0;
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%; height: 100dvh;
            background: #000;
            transition: opacity 0.8s ease;
        }

        .btn-start {
            background: linear-gradient(90deg, var(--gradient-1), var(--gradient-2), var(--gradient-3), var(--gradient-1));
            background-size: 200% auto;
            color: white;
            padding: 1.25rem 3.5rem;
            border-radius: 999px;
            font-weight: 900;
            font-size: clamp(1.2rem, 5vw, 1.5rem);
            text-transform: uppercase;
            letter-spacing: 0.2em;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 50px rgba(129, 160, 244, 0.4);
            animation: shine 3s linear infinite, pulse 2s ease-in-out infinite;
            z-index: 2001;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        #phone-container {
            position: relative;
            width: 100%; height: 100dvh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #phone-static {
            width: auto;
            height: auto;
            max-width: 90vw;
            max-height: 80dvh;
            object-fit: contain;
            display: block;
            transform-origin: 43.1% 17.2%; 
            z-index: 10;
            opacity: 1;
            will-change: transform, opacity;
        }

        @media (min-width: 768px) {
            #phone-static { 
                max-height: 75vh;
            }
        }

        #three-canvas-container {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100dvh;
            z-index: 5;
            opacity: 0;
            pointer-events: none;
        }

        #main-content {
            opacity: 0;
            visibility: hidden;
            height: 100dvh;
            width: 100%;
            overflow-y: auto;
            background-color: #000;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        .bg-glow {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; overflow: hidden;
        }

        .glow-circle {
            position: absolute; border-radius: 50%;
            filter: blur(100px); opacity: 0.15;
            animation: drift 25s infinite alternate ease-in-out;
        }

        @keyframes drift {
            from { transform: translate(-10%, -10%) scale(1); }
            to { transform: translate(20%, 20%) scale(1.2); }
        }

        .gradient-text {
            background: linear-gradient(90deg, var(--gradient-1), var(--gradient-2), var(--gradient-3), var(--gradient-1));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shine 5s linear infinite;
        }

        @keyframes shine { to { background-position: 200% center; } }

        .magic-button {
            position: relative; background: white; color: black;
            padding: 1.25rem 2.5rem; border-radius: 99px;
            font-weight: 700; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 30px rgba(129, 160, 244, 0.2);
        }

        #loader-text {
            position: absolute; bottom: 40px; left: 0; width: 100%;
            text-align: center; color: rgba(255,255,255,0.4);
            font-size: 10px; letter-spacing: 4px; text-transform: uppercase;
        }

        .text-hero { font-size: clamp(2.5rem, 10vw, 8rem); line-height: 1.1; }

        .video-wrapper {
            position: relative;
            padding-bottom: 177.77%; /* 9:16 Ratio */
            height: 0;
            overflow: hidden;
            width: 100%;
            max-width: 320px; 
            margin: 2rem auto;
            border-radius: 1.5rem;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            background: #000;
        }
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #yt-audio-container {
            position: absolute;
            width: 1px; height: 1px;
            opacity: 0; pointer-events: none;
        }

        /* Modal Styles */
        #legal-modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 5000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        #legal-modal.active {
            display: flex;
        }
        .modal-content {
            background: #111;
            width: 100%;
            max-width: 600px;
            max-height: 80vh;
            border-radius: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
            overflow-y: auto;
            padding: 2rem;
            position: relative;
        }
    </style>
</head>
<body>

    <div id="yt-audio-container">
        <div id="player"></div>
    </div>

    <div id="start-overlay">
        <button class="btn-start" onclick="initExperience()">Start</button>
    </div>

    <div id="intro-wrapper">
        <div id="phone-container">
            <img id="phone-static" src="https://i.postimg.cc/VkDfMc1n/image-global-P9a-2024Q3-24H077x008-B-IRIS-MASTER-SIMP-(1).png" alt="Phone">
        </div>
        <div id="three-canvas-container"></div>
        <div id="loader-text">Wird vorbereitet...</div>
    </div>

    <div id="legal-modal">
        <div class="modal-content text-left text-sm leading-relaxed text-gray-300">
            <button onclick="toggleLegal()" class="absolute top-4 right-4 text-white text-2xl">&times;</button>
            <h2 class="text-xl font-bold mb-6 text-white">Datenschutz & Impressum</h2>
            
            <p class="mb-4"><strong>Einwilligung:</strong> Ich bin damit einverstanden, dass meine von mir angegebenen personenbezogenen Daten (Name, Adresse, Email sowie Bild- und Videomaterial) zur Abwicklung des Google Belohnungssystems, d.h. die Dokumentation der Teilnahme an Produkttrainings, die Erfassung der gesammelten Punkte und die Auslieferung von Prämien, von der TMS Personal GmbH verarbeitet und genutzt werden dürfen. ¹</p>
            
            <p class="mb-4 text-xs italic">¹Name und Kontaktdaten des für die Verarbeitung Verantwortlichen<br>
            Verantwortlicher im Sinne der EU Datenschutz-Grundverordnung (DSGVO) ist:<br>
            TMS Personal GmbH, Hafenallee 57, 63067 Offenbach (im Folgenden als „wir“ bezeichnet)<br>
            Tel.: 069 405 625 0 | E-Mail: info@tmsgmbh.de</p>

            <h3 class="font-bold text-white mt-6 mb-2">Registrierung; Zwecke und Rechtsgrundlage</h3>
            <p class="mb-4">Wir verarbeiten die personenbezogenen Daten unserer Kunden im Rahmen des Google Belohnungssystems, um die Teilnahme an Produkttrainings zu dokumentieren und die Versendung etwaiger Geschenke zu ermöglichen und aus den von Ihnen zur Verfügung gestellten Bildern und Videos Content für unsere digitale Trainingsplattform (GRT) zu erstellen. Zu den verarbeiteten Daten gehören Name, Adresse, E-Mail sowie Bild- und Videomaterial.</p>
            <p class="mb-4">Die Verarbeitung erfolgt auf Grundlage des Art. 6 Abs. 1 lit. b DSGVO (Durchführung Bestellvorgänge) und c DSGVO (gesetzlich erforderliche Archivierung). Die von Ihnen gemachten Angaben sowie das Bild- und Videomaterial sind zur Durchführung des Belohnungssystems erforderlich.</p>

            <h3 class="font-bold text-white mt-6 mb-2">Empfänger und Drittstaaten</h3>
            <p class="mb-4">Empfänger von Daten sind Mitarbeiter innerhalb unseres Unternehmens, die diese zur Bearbeitung der genannten Zwecke benötigen. Die Daten offenbaren wir gegenüber Dritten nur im Rahmen der Auslieferung oder im Rahmen der gesetzlichen Erlaubnisse und Pflichten gegenüber Rechtsberatern und Behörden. Die Daten werden nur dann in Drittländern verarbeitet, wenn dies zur Vertragserfüllung erforderlich ist.</p>

            <h3 class="font-bold text-white mt-6 mb-2">Speicherdauer</h3>
            <p class="mb-4">Wir speichern Ihre personenbezogenen Daten nur so lange, wie dies zur Erreichung der hier genannten Zwecke oder zur Erfüllung unserer vertraglichen oder gesetzlichen Pflichten erforderlich ist. Die Löschung Ihrer Daten im Zusammenhang mit der Registrierung auf der Gewinnspiel Plattform erfolgt nach Ablauf gesetzlicher Gewährleistungspflichten. Die Erforderlichkeit der Aufbewahrung der Daten wird alle drei Jahre überprüft.</p>

            <h3 class="font-bold text-white mt-6 mb-2">Ihre Rechte nach der DSGVO</h3>
            <p class="mb-4">Sie haben das Recht auf Auskunft (Art. 15), Berichtigung (Art. 16), Löschung (Art. 17), Einschränkung der Verarbeitung (Art. 18) und Datenübertragbarkeit (Art. 20). Darüber hinaus haben Sie ein Beschwerderecht bei einer Datenschutzaufsichtsbehörde.</p>
            <p class="mb-4">Soweit die Verarbeitung auf Grundlage von Art. 6 Abs. 1 Buchstabe f DSGVO erfolgt, haben Sie das Recht auf Widerspruch (Art. 21). Eine erteilte Einwilligung können Sie jederzeit mit Wirkung für die Zukunft widerrufen.</p>

            <h3 class="font-bold text-white mt-6 mb-2">Datenschutzbeauftragter</h3>
            <p class="mb-6">Herr Rechtsanwalt Stefan Hohl<br>
            Brunnenstraße 23, 63477 Maintal<br>
            info@h-kanzlei.de</p>

            <button onclick="toggleLegal()" class="w-full bg-white text-black py-3 rounded-full font-bold">Schließen</button>
        </div>
    </div>

    <div id="main-content">
        <div class="bg-glow">
            <div class="glow-circle w-[500px] h-[500px] top-[-10%] left-[-10%]" style="background: var(--iris-color);"></div>
            <div class="glow-circle w-[400px] h-[400px] bottom-[-10%] right-[-10%]" style="background: var(--star-blue);"></div>
        </div>

        <nav class="w-full py-8 px-8 flex justify-center items-center">
            <div class="text-[10px] font-bold tracking-[0.3em] text-gray-400 uppercase">18.02.26</div>
        </nav>

        <div class="w-full px-4 mb-8">
            <img src="https://i.postimg.cc/0QkGBfYc/Bildschirmfoto-2026-02-03-um-10-14-20.png" 
                 alt="Event Banner" 
                 class="mx-auto w-full max-w-[600px] h-auto object-contain rounded-2xl shadow-2xl opacity-90 border border-white/10">
        </div>

        <section class="flex flex-col justify-center items-center px-8 text-center">
            <div id="hero-reveal">
                <h1 class="text-hero font-bold tracking-tighter mb-10">
                    Verpasse nicht <br> <span class="gradient-text">den Augenblick...</span>
                </h1>
                
                <button onclick="handleCalendarClick()" class="magic-button mb-8">
                    TERMIN SICHERN
                </button>

                <p class="text-2xl md:text-4xl font-black tracking-tight text-white mb-6 uppercase">
                    18. Februar 2026 | 19:00 Uhr | Livestream
                </p>

                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/5PKjU_HA-eg" 
                            title="Pixel Event Preview" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            allowfullscreen></iframe>
                </div>
            </div>
        </section>

        <section class="pb-12 px-8 text-center">
            <div class="w-20 h-1 bg-gradient-to-r from-blue-500 via-red-500 to-yellow-500 mx-auto rounded-full"></div>
        </section>

        <footer class="py-12 border-t border-white/5 text-center flex flex-col items-center">
            <button onclick="toggleLegal()" class="text-[10px] tracking-[0.3em] text-gray-500 hover:text-gray-300 transition-colors uppercase">
                Datenschutz & Impressum
            </button>
        </footer>
    </div>

    <script>
        // Sicherheits-Platzhalter für API-Key (Umgebung liefert Key zur Laufzeit)
        const apiKey = ""; 

        let scene, camera, renderer, starGroup, geminiSprite;
        let floatingObjects = [];
        let ytPlayer;
        let audioHasStarted = false;
        
        const phoneImg = document.getElementById('phone-static');
        const introWrapper = document.getElementById('intro-wrapper');
        const threeContainer = document.getElementById('three-canvas-container');
        const startOverlay = document.getElementById('start-overlay');
        const legalModal = document.getElementById('legal-modal');

        const isMobile = window.innerWidth < 768;

        const objectUrls = [
            'https://i.postimg.cc/BbyJsRFK/Endcard-opt3-width-1300.png',
            'https://i.postimg.cc/GtSmtHWr/google-pixel-buds-a-series-sea.png',
            'https://i.postimg.cc/vT1dPXKx/Google-Tensor-G4-1.jpg'
        ];

        function toggleLegal() {
            legalModal.classList.toggle('active');
            document.body.style.overflow = legalModal.classList.contains('active') ? 'hidden' : '';
        }

        function onYouTubeIframeAPIReady() {
            ytPlayer = new YT.Player('player', {
                height: '1', width: '1', videoId: '5PKjU_HA-eg',
                playerVars: { 'autoplay': 0, 'controls': 0, 'showinfo': 0, 'rel': 0, 'loop': 0 }
            });
        }

        function requestFullscreen() {
            const el = document.documentElement;
            if (el.requestFullscreen) el.requestFullscreen();
            else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
            else if (el.mozRequestFullScreen) el.mozRequestFullScreen();
        }

        function initExperience() {
            if (isMobile) requestFullscreen();
            startOverlay.style.opacity = '0';
            setTimeout(() => {
                startOverlay.style.display = 'none';
                startExperience();
            }, 600);
        }

        function playIntroMusic() {
            if (audioHasStarted || !ytPlayer) return;
            ytPlayer.setVolume(80);
            ytPlayer.playVideo();
            audioHasStarted = true;
        }

        window.onload = () => initSpaceScene();

        function initSpaceScene() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(isMobile ? 75 : 45, window.innerWidth / window.innerHeight, 0.1, 5000);
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            threeContainer.appendChild(renderer.domElement);
            scene.add(new THREE.AmbientLight(0xffffff, 2));
            
            starGroup = new THREE.Group();
            const starGeometry = new THREE.BufferGeometry();
            const starVertices = [];
            for (let i = 0; i < (isMobile ? 4800 : 10800); i++) {
                starVertices.push((Math.random()-0.5)*2500, (Math.random()-0.5)*2500, (Math.random()-0.5)*5000);
            }
            starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
            const stars = new THREE.Points(starGeometry, new THREE.PointsMaterial({ size: 1.2, color: 0x81a0f4, transparent: true, opacity: 0.8 }));
            starGroup.add(stars);
            scene.add(starGroup);

            const loader = new THREE.TextureLoader();
            loader.setCrossOrigin('anonymous');
            objectUrls.forEach((url, index) => {
                loader.load(url, (tex) => {
                    const mat = new THREE.SpriteMaterial({ map: tex, transparent: true, opacity: 0 });
                    const sprite = new THREE.Sprite(mat);
                    let baseSize = isMobile ? 18 : 25;
                    if (index === 0 || index === 2) baseSize = isMobile ? 30 : 45;
                    sprite.scale.set(baseSize, baseSize * (tex.image.height / tex.image.width), 1);
                    sprite.position.set((index % 2 === 0 ? 1.5 : -1.5) * (isMobile ? 25 : 40), (index === 1 ? -10 : 10), -1500);
                    if (index === 2) sprite.material.rotation = Math.PI; 
                    scene.add(sprite);
                    floatingObjects.push(sprite);
                });
            });

            loader.load('https://i.postimg.cc/5Nr3VrfQ/Google-Gemini-icon-2025-svg.png', (tex) => {
                const mat = new THREE.SpriteMaterial({ map: tex, transparent: true });
                geminiSprite = new THREE.Sprite(mat);
                geminiSprite.scale.set(0.1, 0.1, 1);
                geminiSprite.position.set(0, 0, -1200); 
                scene.add(geminiSprite);
            });
            camera.position.z = 200;
            animate();
        }

        function prepareContentReveal() {
            document.body.style.position = 'static';
            document.body.style.overflowY = 'auto';
            const main = document.getElementById('main-content');
            main.style.opacity = '1';
            main.style.visibility = 'visible';
            gsap.from("#hero-reveal", { y: 40, opacity: 0, duration: 1.5, ease: "power4.out" });
        }

        function startExperience() {
            playIntroMusic();
            const tl = gsap.timeline();
            tl.to("#loader-text", { opacity: 0, duration: 0.3 });
            tl.to(phoneImg, { scale: isMobile ? 1200 : 120, duration: 5.5, ease: "power3.in" });
            tl.to(threeContainer, { opacity: 1, duration: 2.0 }, "-=2.5");
            tl.to(phoneImg, { opacity: 0, duration: 0.5, ease: "power1.out" }, "-=0.5");
            tl.to(camera.position, { z: -1200, duration: 11.5, ease: "power2.inOut" }, "-=2.0");

            floatingObjects.forEach((obj, index) => {
                const startTime = index * 2.5 + 2;
                tl.to(obj.material, { opacity: 1, duration: 1 }, `-=${11.5 - startTime}`);
                tl.to(obj.position, { x: (index % 2 === 0 ? -1.5 : 1.5) * (isMobile ? 30 : 50), z: 600, duration: 6.6, ease: "none" }, `-=${11.5 - startTime}`);
                tl.to(obj.material, { opacity: 0, duration: 1 }, `-=${11.5 - startTime - 5.5}`); 
            });

            tl.addLabel("starStart", "-=5.5");
            tl.add(() => {
                if(geminiSprite) {
                    const s = isMobile ? 300 : 400; 
                    gsap.to(geminiSprite.scale, { x: s, y: s, duration: 4.0, ease: "power2.in" });
                }
            }, "starStart");

            let vol = { val: 80 };
            tl.to(vol, { val: 0, duration: 2.0, ease: "power1.out", onUpdate: () => ytPlayer && ytPlayer.setVolume(vol.val) }, "starStart+=2.0");
            tl.to(introWrapper, { backgroundColor: "#fff", duration: 0.2 }, "starStart+=2.5");
            tl.call(prepareContentReveal, null, "starStart+=2.6"); 
            tl.to(introWrapper, { opacity: 0, duration: 0.5 }, "starStart+=2.7");
            tl.set(introWrapper, { display: 'none' });
            tl.add(() => ytPlayer && ytPlayer.stopVideo());
        }

        function animate() {
            requestAnimationFrame(animate);
            if (!renderer || !scene || !camera) return;
            if(starGroup) starGroup.position.z += 5;
            if(starGroup && starGroup.position.z > 1500) starGroup.position.z = 0;
            if(geminiSprite) geminiSprite.material.rotation += 0.005;
            floatingObjects.forEach((obj, i) => obj.material.rotation += (i % 2 === 0 ? 0.003 : -0.003));
            renderer.render(scene, camera);
        }

        function handleCalendarClick() {
            const ua = navigator.userAgent;
            const isApple = /iPhone|iPad|iPod/.test(ua);
            const isAndroid = /Android/.test(ua);
            const calendarId = "c_46447c8f79376cdb8f28dd083b39a50be052005cf394c5b7caf0fc4a4d04b977@group.calendar.google.com";
            const calendarIcsLink = "https://calendar.google.com/calendar/ical/c_46447c8f79376cdb8f28dd083b39a50be052005cf394c5b7caf0fc4a4d04b977%40group.calendar.google.com/public/basic.ics";

            if (isApple) {
                const title = "Google Pixel 10a Launch Event";
                const desc = `Sei dabei, hier klicken: https://youtube.com/live/Lieiv2eLSrA\n\nUnsere Google-Experten versorgen dich sofort mit allen Details.\nSichere dir jetzt deinen Platz!`;
                const ics = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Innovation Labs//Pixel Event//DE\nBEGIN:VEVENT\nUID:pixel-launch-2026-ios@innovationlabs\nDTSTAMP:${new Date().toISOString().replace(/[-:]/g, '').split('.')[0]+"Z"}\nDTSTART:20260218T180000Z\nDTEND:20260218T184500Z\nSUMMARY:${title}\nDESCRIPTION:${desc.replace(/\n/g, '\\n')}\nLOCATION:YouTube Live\nURL:https://youtube.com/live/Lieiv2eLSrA\nEND:VEVENT\nEND:VCALENDAR`;
                const blob = new Blob([ics], { type: 'text/calendar;charset=utf-8' });
                window.location.href = URL.createObjectURL(blob);
            } else if (isAndroid) {
                window.location.href = calendarIcsLink;
            } else {
                window.open(`https://calendar.google.com/calendar/render?cid=${encodeURIComponent(calendarId)}`, '_blank');
            }
        }

        window.onresize = () => {
            if (!camera || !renderer) return;
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        };
    </script>
</body>
</html>
